{% extends 'main.html' %} {% block content %}
<div class="container py-4">
  <div class="row">
    <div class="col-md-8">
      <div class="block">
        <div class="block-content">
          <div class="text-white font-size-lg fw-bold mb-2">
            Room Name: <u>{{ room.name }}</u>
          </div>
          <p>{{ room.description }}</p>

          <div class="comment-wrapper">
            <h3>Conversation</h3>
            <hr />

            {% for message in room_messages %}
            <div>
              {% if request.user == message.user %}
              <a href="{% url 'delete-message' message.id %}">Delete</a>
              {% endif %}
              <small
                >@{{message.user}}, {{message.created|timesince}} ago
              </small>
              <p>{{ message.body}}</p>
              <hr />
            </div>
            {% endfor %}
          </div>

          {% if request.user.is_authenticated %}
          <div class="comment-form">
            <form method="POST" action="">
              {% csrf_token %}
              <input
                type="text"
                name="body"
                placeholder="Write your message here"
              />
            </form>
          </div>
          {% endif %}
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <div class="block">
        <div class="block-content">
          <div class="text-white font-size-lg fw-bold mb-2">Participants</div>
          {% for user in participants %}
          <div>
            <p>@{{user.username}}</p>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock %}
